{
  "version": 3,
  "sources": ["../../src/GameConfig.ts", "../../src/fgui/extension/Joystick.ts", "../../src/script/Bean.ts", "../../src/Config.ts", "../../src/script/Snake.ts", "../../src/manager/GameManager.ts", "../../src/App.ts", "../../src/Main.ts"],
  "sourcesContent": ["/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\n/*\n* \u6E38\u620F\u521D\u59CB\u5316\u914D\u7F6E;\n*/\nexport default class GameConfig{\n    static width:number=750;\n    static height:number=1334;\n    static scaleMode:string=\"fixedwidth\";\n    static screenMode:string=\"none\";\n    static alignV:string=\"top\";\n    static alignH:string=\"left\";\n    static startScene:any=\"Main/Main.scene\";\n    static sceneRoot:string=\"\";\n    static debug:boolean=false;\n    static stat:boolean=true;\n    static physicsDebug:boolean=false;\n    static exportSceneToJson:boolean=true;\n    constructor(){}\n    static init(){\n        var reg: Function = Laya.ClassUtils.regClass;\n    }\n}\nGameConfig.init();", "export default class Joystick extends fgui.GComponent {\r\n    private _initX: number;\r\n    private _initY: number;\r\n    private _startStageX: number;\r\n    private _startStageY: number;\r\n    private _lastStageX: number;\r\n    private _lastStageY: number;\r\n    private _button: fgui.GButton;\r\n    private _touchArea: fgui.GObject;\r\n    private _thumb: fgui.GObject;\r\n    private _center: fgui.GObject;\r\n    private touchId: number;\r\n    private _tweener: fgui.GTweener;\r\n    private _curPos: Laya.Point;\r\n    public static JoystickMoving: string = \"JoystickMoving\";\r\n    public static JoystickUp: string = \"JoystickUp\";\r\n\r\n    public radius: number;\r\n    protected constructFromXML(xml: any): void {\r\n        super.constructFromXML(xml);\r\n        this._button = this.getChild(\"joystick\").asButton;\r\n        this._button.changeStateOnClick = false;\r\n        this._thumb = this._button.getChild(\"btn_joystick\");\r\n        this._touchArea = this.getChild(\"joystick_touch\");\r\n        this._center = this.getChild(\"center\");\r\n        this._initX = this._center.x + this._center.width / 2;\r\n        this._initY = this._center.y + this._center.height / 2;\r\n        this._touchArea.on(Laya.Event.MOUSE_DOWN, this, this.onTouchDown);\r\n    }\r\n    public constructor() {\r\n        super();\r\n        this.touchId = -1;\r\n        this.radius = 60; // \u534A\u5F84\r\n\r\n        this._curPos = new Laya.Point();\r\n\r\n    }\r\n\r\n    public Trigger(evt: Laya.Event): void {\r\n        this.onTouchDown(evt);\r\n    }\r\n\r\n    private onTouchDown(evt: Laya.Event) {\r\n        if (this.touchId == -1) {//First touch\r\n            this.touchId = evt.touchId;\r\n\r\n            if (this._tweener != null) {\r\n                this._tweener.kill();\r\n                this._tweener = null;\r\n            }\r\n\r\n            fgui.GRoot.inst.globalToLocal(Laya.stage.mouseX, Laya.stage.mouseY, this._curPos);\r\n            var bx: number = this._curPos.x - this.x;\r\n            var by: number = this._curPos.y - this.y;\r\n            this._button.selected = true;\r\n\r\n            if (bx < 0)\r\n                bx = 0;\r\n            else if (bx > this._touchArea.width)\r\n                bx = this._touchArea.width;\r\n\r\n            if (by > fgui.GRoot.inst.height)\r\n                by = fgui.GRoot.inst.height;\r\n            else if (by < this._touchArea.y)\r\n                by = this._touchArea.y;\r\n\r\n            this._lastStageX = bx;\r\n            this._lastStageY = by;\r\n            this._startStageX = bx;\r\n            this._startStageY = by;\r\n\r\n            this._center.visible = true;\r\n            this._center.x = bx - this._center.width / 2;\r\n            this._center.y = by - this._center.height / 2;\r\n            this._button.x = bx - this._button.width / 2;\r\n            this._button.y = by - this._button.height / 2;\r\n\r\n            var deltaX: number = bx - this._initX;\r\n            var deltaY: number = by - this._initY;\r\n            var degrees: number = Math.atan2(deltaY, deltaX) * 180 / Math.PI;\r\n            this._thumb.rotation = degrees + 90;\r\n\r\n            Laya.stage.on(Laya.Event.MOUSE_MOVE, this, this.onTouchMove);\r\n            Laya.stage.on(Laya.Event.MOUSE_UP, this, this.onTouchUp);\r\n        }\r\n    }\r\n\r\n    private onTouchUp(evt: Laya.Event): void {\r\n        if (this.touchId != -1 && evt.touchId == this.touchId) {\r\n            this.touchId = -1;\r\n            this._thumb.rotation = this._thumb.rotation + 180;\r\n            this._center.visible = false;\r\n            this._tweener = fgui.GTween.to2(this._button.x, this._button.y, this._initX - this._button.width / 2, this._initY - this._button.height / 2, 0.3)\r\n                .setTarget(this._button, this._button.setXY)\r\n                .setEase(fgui.EaseType.CircOut)\r\n                .onComplete(this.onTweenComplete, this);\r\n\r\n            Laya.stage.off(Laya.Event.MOUSE_MOVE, this, this.onTouchMove);\r\n            Laya.stage.off(Laya.Event.MOUSE_UP, this, this.onTouchUp);\r\n\r\n            Laya.stage.event(Joystick.JoystickUp);\r\n        }\r\n    }\r\n\r\n    private onTweenComplete(): void {\r\n        this._tweener = null;\r\n        this._button.selected = false;\r\n        this._thumb.rotation = 0;\r\n        this._center.visible = true;\r\n        this._center.x = this._initX - this._center.width / 2;\r\n        this._center.y = this._initY - this._center.height / 2;\r\n    }\r\n\r\n    private onTouchMove(evt: Laya.Event): void {\r\n        if (this.touchId != -1 && evt.touchId == this.touchId) {\r\n            var bx: number = Laya.stage.mouseX - this.x;\r\n            var by: number = Laya.stage.mouseY - this.y;\r\n            var moveX: number = bx - this._lastStageX;\r\n            var moveY: number = by - this._lastStageY;\r\n            this._lastStageX = bx;\r\n            this._lastStageY = by;\r\n            var buttonX: number = this._button.x + moveX;\r\n            var buttonY: number = this._button.y + moveY;\r\n\r\n            var offsetX: number = buttonX + this._button.width / 2 - this._startStageX;\r\n            var offsetY: number = buttonY + this._button.height / 2 - this._startStageY;\r\n\r\n            var rad: number = Math.atan2(offsetY, offsetX);\r\n            var degree: number = rad * 180 / Math.PI;\r\n            this._thumb.rotation = degree + 90;\r\n\r\n            var maxX: number = this.radius * Math.cos(rad);\r\n            var maxY: number = this.radius * Math.sin(rad);\r\n            if (Math.abs(offsetX) > Math.abs(maxX))\r\n                offsetX = maxX;\r\n            if (Math.abs(offsetY) > Math.abs(maxY))\r\n                offsetY = maxY;\r\n\r\n            buttonX = this._startStageX + offsetX;\r\n            buttonY = this._startStageY + offsetY;\r\n            if (buttonX < 0)\r\n                buttonX = 0;\r\n            if (buttonY > fgui.GRoot.inst.height)\r\n                buttonY = fgui.GRoot.inst.height;\r\n\r\n            this._button.x = buttonX - this._button.width / 2;\r\n            this._button.y = buttonY - this._button.height / 2;\r\n            // let vector2 = new Laya.Vector2(offsetX, offsetY);\r\n            Laya.stage.event(Joystick.JoystickMoving, { degree });\r\n        }\r\n    }\r\n}", "import Snake from \"./Snake\"\r\nexport default class Bean extends Laya.Sprite {\r\n    skin: number\r\n    orderNum: number\r\n    alive: boolean = true;\r\n    haveEaten: boolean = false\r\n    eatenTarget: Snake\r\n    speed: number = 2\r\n    eatenTargetPos: Object = { x: 0, y: 0 }\r\n    haveEatenDis: number = 4\r\n    eatenPos: Object = { x: 0, y: 0 }\r\n    eatenInitPos: Object = { x: 0, y: 0 }\r\n    id: string;\r\n    constructor(\r\n        id: string, skin: number, x: number, y: number) {\r\n        super();\r\n        this.alive = true;\r\n        this.id = id;\r\n        this.skin = skin\r\n        this.zOrder = 0\r\n        this.visible = false\r\n        this.eatenInitPos[\"x\"] = x\r\n        this.eatenInitPos[\"y\"] = y\r\n        this.init(x, y)\r\n    }\r\n\r\n    init(x: number, y: number): void {\r\n        this.loadImage(\"assets/bean_\" + this.skin + \".png\", Laya.Handler.create(this, this.loaded, [x, y]))\r\n    }\r\n\r\n    loaded(x: number, y: number): void {\r\n        this.zOrder = 0\r\n        this.pivot(this.width / 2, this.height / 2)\r\n        this.pos(x, y)\r\n        this.visible = true\r\n    }\r\n\r\n    destroy() {\r\n\r\n    }\r\n\r\n    hide(snake: Snake) {\r\n        Laya.Tween.to(this, { x: snake.x, y: snake.y, scaleX: 0, scaleY: 0, alpha: 0 }, 100, null, Laya.Handler.create(this, this.hideComplete));\r\n    }\r\n\r\n    hideComplete() {\r\n        this.alive = false;\r\n        // this.visible = false;\r\n    }\r\n}", "export default class Config{\r\n    public static mapWidth:number = 5000;\r\n    public static mapHeight:number = 5000;\r\n    public static defaultScaleRatio: number = 0.5; // \u86C7\u8EAB\u9ED8\u8BA4\u7F29\u653E\r\n    // static beanInitCnt:number = 1;\r\n    public static snakeBodyRadius:number = 64;\r\n    public static speedConfig: { [key: string]: number } = { \"slow\": 6, \"fast\": 10, \"rotation\": 10 }\r\n}", "import { IPath } from \"../../types/index\";\r\nimport Config from \"../Config\";\r\nimport GameManager from \"../manager/GameManager\";\r\nexport default class Snake extends Laya.Sprite {\r\n    currentSpeed: string = \"slow\";\r\n    scaleRatio: number; // \u7F29\u653E\u500D\u7387\r\n    snakeLength: number = 0;\r\n    kill: number = 0;\r\n    alive: boolean = true;\r\n    speedX: number;\r\n    speedY: number;\r\n    skinId: number;\r\n    curRotation: number; // \u5F53\u524D\u6447\u6746\u7684\u65CB\u8F6C\u89D2\u5EA6\r\n    nextRotation: number; // \u4E0B\u4E00\u4E2A\u8F6C\u89D2\u89D2\u5EA6\r\n    bodySpace: number;\r\n    bodyArr: Array<Laya.Sprite> = [];\r\n    pathArr: Array<IPath> = [];\r\n    eatBean: number = 0;\r\n    bodyBeanNum: number = 6;//\u5403\u51E0\u9897\u8C46\u589E\u52A0\u4E00\u8282\u8EAB\u4F53\r\n    bodyMaxNum: number = 30; // \u8EAB\u4F53\u957F\u5EA6\u4E0A\u9650\r\n    id: string = \"\";\r\n    bot: boolean = true;\r\n    head: Laya.Sprite;\r\n    offset: Laya.Point = new Laya.Point();\r\n\r\n    constructor(id: string, skinId: number, x: number, y: number, angle: number = 0) {\r\n        super()\r\n        this.id = id;\r\n        this.rotation = angle;\r\n        this.curRotation = this.rotation;\r\n        this.nextRotation = this.rotation;\r\n        this.alive = true;\r\n        this.speedX = Config.speedConfig[this.currentSpeed];\r\n        this.speedY = Config.speedConfig[this.currentSpeed];\r\n        this.skinId = skinId + 100;\r\n        this.visible = false;\r\n        this.scaleRatio = Config.defaultScaleRatio;\r\n\r\n\r\n        this.width = Config.snakeBodyRadius;\r\n        this.height = Config.snakeBodyRadius;\r\n        this.zOrder = 11000\r\n        this.pivot(this.width / 2, this.height / 2);\r\n        this.pos(x, y)\r\n\r\n        this.head = new Laya.Sprite();\r\n        this.head.loadImage(`assets/${this.skinId}_head.png`, Laya.Handler.create(this, this.loaded))\r\n        // this.head = this.loadImage(`assets/${this.skinId}_head.png`, Laya.Handler.create(this, this.loaded, [x, y]))\r\n    }\r\n\r\n    loaded(): void {\r\n        this.addChild(this.head);\r\n        this.head.pos(this.head.width / 2, this.height / 2);\r\n        this.snakeScale(this.head, \"head\");\r\n        this.visible = true\r\n\r\n        this.bodySpace = Math.floor(this.width / 10 * 8)\r\n        for (let index = 1; index <= this.getBodyNum(); index++) {\r\n            this.addBody(this.x - index * this.bodySpace, this.y, this.rotation)\r\n        }\r\n        for (let index = 0; index < this.bodySpace * this.getBodyNum(); index++) {\r\n            this.pathArr.push({\r\n                x: this.x - index\r\n                , y: this.y\r\n            })\r\n        }\r\n    }\r\n\r\n    move(): void {\r\n        if (this.alive) {\r\n            // this.bodySpace = Math.floor(this.width / 10 * 8)\r\n            this.headMove()\r\n            this.bodyMove()\r\n            this.speedChange()\r\n            this.rotationChange()\r\n            this.bodyCheck()\r\n        }\r\n    }\r\n\r\n    // curtime: number = Date.now();\r\n    headMove(): void {\r\n        // let angle = Math.floor(this.rotation * Math.PI / 180 * 100) / 100;\r\n        // let x = Math.floor(this.speedX * Math.floor(Math.cos(angle) * 100) / 100);\r\n        // let y = Math.floor(this.speedY * Math.floor(Math.sin(angle) * 100) / 100);\r\n\r\n        let posBefore = { x: this.x, y: this.y };\r\n        // let x = Laya.MathUtil.lerp(0, this.offset.x, 0.5);\r\n        // let y = Laya.MathUtil.lerp(0, this.offset.y, 0.5);\r\n        // x = Math.round(x);\r\n        // y = Math.round(y);\r\n        // if (this.offset.x > this.speedX) {\r\n        //     offsetx = this.offset.x > this.speedX ? this.speedX : 0;\r\n        //     this.offset.x -= this.speedX;\r\n        // }\r\n        let nextPosX = this.x + this.offset.x;\r\n        let nextPosY = this.y + this.offset.y;\r\n        // if (!this.bot) {\r\n        // console.log(x,y);\r\n        // }\r\n        // this.rotation = this.nextRotation;\r\n        // \u5BF9\u5934\u90E8\u8FDB\u884C\u8BBE\u7F6E\r\n        this.head.rotation = this.nextRotation;\r\n        if (!(nextPosX >= Config.mapWidth - this.head.width / 2 || nextPosX <= this.head.width / 2)) {\r\n            this.x = nextPosX;\r\n        } else {\r\n            // this.destroy()\r\n            if (!this.bot) {\r\n                console.log(\"moveOut:\", Date.now())\r\n            }\r\n            return;\r\n        }\r\n        if (!(nextPosY >= Config.mapHeight - this.head.width / 2 || nextPosY <= this.head.width / 2)) {\r\n            this.y = nextPosY;\r\n        } else {\r\n            // this.destroy()\r\n            // if (!this.bot) {\r\n            //     console.log(\"moveOut:\", Date.now())\r\n            // }\r\n            return;\r\n        }\r\n\r\n        let nextAngle = Math.floor(Math.atan2(nextPosY - posBefore.y, nextPosX - posBefore.x) * 100) / 100;\r\n        // if (!this.bot) {\r\n        //     console.log(\"nextAngle:\", nextAngle)\r\n        // }\r\n        for (let index = 1; index <= Config.speedConfig[this.currentSpeed]; index++) {\r\n            let pathX = index * Math.floor(Math.cos(nextAngle) * 10) / 10 + posBefore.x;\r\n            let pathY = index * Math.floor(Math.sin(nextAngle) * 10) / 10 + posBefore.y;\r\n            this.pathArr.unshift({ x: pathX, y: pathY })\r\n            // if (!this.bot) {\r\n            //     console.log(\"pathArr:\", pathX, pathY)\r\n            // }\r\n        }\r\n    }\r\n\r\n    bodyMove(): void {\r\n        for (let index = 0; index < this.bodyArr.length; index++) {\r\n            let element = this.bodyArr[index];\r\n            let path = this.pathArr[(index + 1) * this.bodySpace];\r\n            if (path) {\r\n                // element.rotation = Math.atan2(path[\"y\"] - element.y, path[\"x\"] - element.x) / Math.PI * 180; // \u8EAB\u4F53\u8DDF\u7740\u65CB\u8F6C\r\n                element.pos(path[\"x\"], path[\"y\"]);\r\n            }\r\n            if (this.pathArr.length > this.bodyArr.length * (1 + this.bodySpace)) {\r\n                this.pathArr.pop();\r\n            }\r\n        }\r\n    }\r\n\r\n    snakeScale(ele: Laya.Sprite, eleType: string = \"body\"): void {\r\n        // todo\r\n        let x = ele.x, y = ele.y;\r\n        ele.graphics.clear()\r\n        // ele.loadImage(\"images/\" + eleType + this.skinId + \".png\", 0, 0, Config.snakeBodyRadius * this.scaleRatio, Config.snakeBodyRadius * this.scaleRatio)\r\n        // ele.pivot(ele.width / 2, ele.height / 2)\r\n        if (eleType == \"body\") {\r\n            ele.width = Config.snakeBodyRadius * this.scaleRatio;\r\n            ele.height = Config.snakeBodyRadius * this.scaleRatio;\r\n        } else {\r\n            ele.width = ele.width * this.scaleRatio;\r\n            ele.height = ele.height * this.scaleRatio;\r\n        }\r\n        ele.pivot(ele.width / 2, ele.height / 2)\r\n        ele.pos(x, y)\r\n        Config.speedConfig[\"rotation\"] = 4 / this.scaleRatio;\r\n    }\r\n\r\n    speedChange(): void {\r\n        let currentSpeed = Config.speedConfig[this.currentSpeed];\r\n        // this.speed = this.currentSpeed == 'slow' ? (this.speed > currentSpeed ? this.speed - 1 : currentSpeed) : (this.speed < currentSpeed ? this.speed + 1 : currentSpeed);\r\n        this.speedX = this.currentSpeed == 'slow' ? (this.speedX > currentSpeed ? this.speedX - 1 : currentSpeed) : (this.speedX < currentSpeed ? this.speedX + 1 : currentSpeed);\r\n        this.speedY = this.currentSpeed == 'slow' ? (this.speedY > currentSpeed ? this.speedY - 1 : currentSpeed) : (this.speedY < currentSpeed ? this.speedY + 1 : currentSpeed);\r\n    }\r\n\r\n    rotationChange(): void {\r\n        if (this.curRotation == this.nextRotation) {\r\n            return\r\n        }\r\n        let rotationSpan = Math.abs(this.curRotation - this.nextRotation); // \u8F6C\u89D2\u5DEE\u503C\r\n        let rotation = Config.speedConfig['rotation'];\r\n        let perRotation = rotationSpan < rotation ? rotationSpan : rotation;\r\n        if (this.curRotation < 0 && this.nextRotation > 0 && Math.abs(this.curRotation) + this.nextRotation > 180) {\r\n            perRotation = (180 - this.nextRotation) + (180 + this.curRotation) < rotation ? (180 - this.nextRotation) + (180 + this.curRotation) : rotation;\r\n            this.nextRotation += perRotation;\r\n        } else {\r\n            this.nextRotation += this.curRotation > this.nextRotation && rotationSpan <= 180 ? perRotation : -perRotation;\r\n        }\r\n        this.nextRotation = Math.abs(this.nextRotation) > 180 ? (this.nextRotation > 0 ? this.nextRotation - 360 : this.nextRotation + 360) : this.nextRotation;\r\n    }\r\n\r\n    addBody(x: number, y: number, r: number): void {\r\n        let body: Laya.Sprite = new Laya.Sprite();\r\n        let zOrder = this.zOrder - this.bodyArr.length - 1;\r\n        body.visible = false;\r\n        body.alpha = 0;\r\n        body.zOrder = zOrder;\r\n        body.loadImage(`assets/${this.skinId}_body_${zOrder % 2 + 1}.png`, Laya.Handler.create(this, () => {\r\n            this.snakeScale(body, \"body\")\r\n            body.pos(x, y)\r\n            body.rotation = r\r\n\r\n            GameManager.inst.battleMap.addChild(body)\r\n\r\n            body.visible = true\r\n            body.alpha = 1\r\n        }))\r\n\r\n        this.bodyArr.push(body)\r\n    }\r\n\r\n    bodyCheck() {\r\n        if (this.eatBean >= this.bodyBeanNum && this.bodyArr.length < this.bodyMaxNum) {\r\n            let addBodyNum = Math.floor(this.eatBean / this.bodyBeanNum)\r\n            let r = this.bodyArr[this.bodyArr.length - 1].rotation\r\n            for (let index = 0; index < addBodyNum; index++) {\r\n                this.addBody(this.bodySpace * Math.cos(r * Math.PI / 180), this.bodySpace * Math.sin(r * Math.PI / 180), r)\r\n            }\r\n            for (let index = 0; index < this.bodySpace * addBodyNum; index++) {\r\n                this.pathArr.push({ x: this.x - index * Math.cos(r * Math.PI / 180), y: this.y - index * Math.sin(r * Math.PI / 180) })\r\n            }\r\n            this.eatBean = this.eatBean % this.bodyBeanNum;// \u5269\u4F59\u672A\u88AB\u6D88\u5316\u7684\u8C46\u8C46\r\n\r\n            if (this.scaleRatio < 1) { // \u6298\u7B97\u80FD\u91CF\u8F6C\u6362\u957F\u5EA6\r\n                this.scaleRatio = Config.defaultScaleRatio + (1 - Config.defaultScaleRatio) / this.bodyMaxNum * this.bodyArr.length;\r\n                this.bodyArr.forEach(element => {\r\n                    this.snakeScale(element, \"body\");\r\n                })\r\n                this.snakeScale(this,\"head\");\r\n                this.snakeScale(this.head,\"head\");\r\n            } else {\r\n                this.scaleRatio = 1;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    getBodyNum(): number {\r\n        return Math.floor(this.snakeLength / this.bodyBeanNum)\r\n    }\r\n\r\n    destroy() {\r\n        this.alive = false;\r\n        this.visible = false;\r\n        this.bodyArr.forEach((body) => {\r\n            body.visible = false\r\n        })\r\n    }\r\n}", "import Bean from \"../script/Bean\"\r\nimport Snake from \"../script/Snake\"\r\nimport Config from \"../Config\";\r\nimport GameConfig from \"../GameConfig\";\r\nimport Joystick from \"../fgui/extension/Joystick\";\r\nimport { IBase, IBeanData, IEatBean, IGlobalData, ISnakeData, IStatus } from \"../../types/index\";\r\ndeclare const Colyseus: any;\r\nexport default class GameManager {\r\n\r\n    nickname: string\r\n    neturl: string\r\n    skin: number\r\n    gameMode: number//0\u7EC4\u961F\u6A21\u5F0F\uFF0C1\u65E0\u9650\u6A21\u5F0F\r\n    beanNum: number = 0\r\n    beanOrder: number = 0\r\n    beans: Object = {}\r\n    snakeSelf: Snake\r\n    snakeArr: Array<Snake> = []\r\n    snakeMap: { [key: string]: Snake } = {};\r\n    beanMap: { [key: string]: Bean } = {};\r\n\r\n    battleView: fgui.GComponent;\r\n    battleMap: Laya.Sprite;\r\n    btnSpeed: fgui.GButton;\r\n\r\n    private static _inst: GameManager;\r\n    public static get inst(): GameManager {\r\n        if (this._inst == null) {\r\n            this._inst = new GameManager();\r\n        }\r\n        return this._inst;\r\n    }\r\n    constructor() {\r\n        if (GameManager._inst) {\r\n            throw \"singleton class is not use new constructor!\";\r\n        }\r\n    }\r\n\r\n    room: any;\r\n    initSocket() {\r\n        let client = new Colyseus.Client(\"ws://localhost:2567/\");\r\n        client.joinOrCreate(\"state_handler\").then(room => {\r\n            console.log(room.sessionId);\r\n            this.room = room;\r\n            this.room.onMessage(\"cmd\", (message: any) => {\r\n                this.handleMsg(message.type, message.data);\r\n                // console.log(message);\r\n            });\r\n            this.room.send(\"create_role\");\r\n        });\r\n    }\r\n\r\n    send(message: { [key: string]: string }) {\r\n        this.room.send(\"cmd\", message);\r\n    }\r\n\r\n    handleMsg(type: string, data: any): void {\r\n        if (type == \"updateSnake\") {\r\n            this.updateSnake(data);\r\n        } else if (type == \"addSnake\") {\r\n            this.addSnake(data)\r\n        } else if (type == \"initGlobalConfig\") {\r\n            this.initGlobalConfig(data);\r\n        } else if (type == \"removeSnake\") {\r\n            this.removeSnake(data);\r\n        } else if (type == \"addBean\") {\r\n            this.addBean(data);\r\n        } else if (type == \"removeBean\") {\r\n            this.removeBean(data);\r\n        }\r\n\r\n    }\r\n\r\n    addSnake(data: ISnakeData): void {\r\n        let id = data.id;\r\n        let snake = new Snake(id, 1, data.pos.x, data.pos.y);\r\n        this.snakeMap[id] = snake;\r\n        if (this.room.sessionId == id) {\r\n            this.snakeSelf = snake;\r\n            snake.bot = false;\r\n        }\r\n        this.snakeArr.push(snake);\r\n        this.battleMap.addChild(snake);\r\n        // console.log(\"addSnake:\", data,this.snakeMap);\r\n    }\r\n\r\n    removeBean(data: IEatBean): void {\r\n        let snake = data.snakeId;\r\n        let bean = data.beanId;\r\n\r\n        this.beanMap[bean].hide(this.snakeMap[snake]);\r\n        // todo \u5BF9\u8C61\u6C60\u7BA1\u7406\r\n    }\r\n\r\n    updateSnake(data: IStatus[]): void {\r\n        data.forEach(element => {\r\n            let id = element.id;\r\n            let snake = this.snakeMap[id];\r\n            if (snake && snake.alive) {\r\n                let rotation = element.rotation;\r\n                let currentSpeed = element.currentSpeed;\r\n                snake.curRotation = rotation;\r\n                snake.currentSpeed = currentSpeed;\r\n                let offsetx = element.pos.x - snake.x;\r\n                let offsety = element.pos.y - snake.y;\r\n                snake.offset.x = offsetx; // \u4E0E\u670D\u52A1\u5668\u7684\u504F\u5DEE\u503C\r\n                snake.offset.y = offsety;\r\n                // snake.move();\r\n                // if (!snake.bot) {\r\n                //     console.log(snake.offset.x,offsetx);\r\n                // }\r\n            }\r\n        });\r\n    }\r\n\r\n    removeSnake(data: IBase): void {\r\n        this.snakeMap[data.id].destroy();\r\n    }\r\n\r\n    initGlobalConfig(data: IGlobalData): void {\r\n        console.log(data);\r\n        let snakes = data.snakes;\r\n        let beans = data.beans;\r\n        snakes.forEach(element => {\r\n            if (element.alive) {\r\n                let id = element.id;\r\n                let pos = element.pos;\r\n                let rotation = element.rotation;\r\n                console.log(rotation);\r\n                let snake = new Snake(id, 1, pos.x, pos.y, rotation);\r\n                this.snakeMap[id] = snake;\r\n                if (this.room.sessionId == id) {\r\n                    this.snakeSelf = snake;\r\n                }\r\n                this.snakeArr.push(snake);\r\n                this.battleMap.addChild(snake);\r\n\r\n            }\r\n        });\r\n        beans.forEach(bean => {\r\n            if (bean.alive) {\r\n                this.addBean(bean);\r\n            }\r\n        });\r\n    }\r\n\r\n    init(): void {\r\n        this.battleView = fgui.UIPackage.createObject(\"Slither\", \"Main\") as fairygui.GComponent;\r\n        this.battleView.makeFullScreen();\r\n        fgui.GRoot.inst.addChild(this.battleView);\r\n        this.addEvent();\r\n        this.initSocket();\r\n        this.startGame();\r\n    }\r\n\r\n    onSpeedUp: boolean = false;\r\n    addEvent() {\r\n        Laya.stage.on(Joystick.JoystickMoving, this, this.onTouchMove);\r\n        this.btnSpeed = this.battleView.getChild(\"btn_speed\").asButton;\r\n        this.btnSpeed.on(Laya.Event.MOUSE_DOWN, this, this.changeSpeed);\r\n        this.btnSpeed.on(Laya.Event.MOUSE_UP, this, this.changeSpeed);\r\n    }\r\n\r\n    changeSpeed() {\r\n        this.onSpeedUp = !this.onSpeedUp;\r\n        let onSpeedUp = this.onSpeedUp;\r\n        this.room.send(\"updateSpeed\", { id: this.room.sessionId, onSpeedUp });\r\n    }\r\n\r\n    onTouchMove(evt: { [key: string]: any }): void {\r\n        let rotation = Math.floor(evt.degree);\r\n        // console.log(rotation);\r\n        this.room.send(\"updateRotation\", { id: this.room.sessionId, rotation });\r\n    }\r\n\r\n\r\n    startGame(): void {\r\n        this.createMap();\r\n        Laya.timer.frameLoop(1, this, this.gameLoop)\r\n    }\r\n\r\n    createMap(): void {\r\n        this.battleMap = this.battleView.getChild(\"map\").displayObject;\r\n        this.battleMap.width = Config.mapWidth;\r\n        this.battleMap.height = Config.mapHeight;\r\n    }\r\n\r\n    addBean(data: IBeanData): void {\r\n        // todo \u4F7F\u7528\u5BF9\u8C61\u6C60\u7BA1\u7406\r\n        let id = data.id;\r\n        let pos = data.pos;\r\n        let skin = data.skin;\r\n        let bean = new Bean(id, skin, pos.x, pos.y);\r\n        this.beanMap[id] = bean;\r\n        this.battleMap.addChild(bean);\r\n    }\r\n\r\n    //\u6E38\u620F\u4E3B\u5FAA\u73AF\r\n    gameLoop(): void {\r\n        this.snakeMove()\r\n        this.mapMove();\r\n    }\r\n\r\n    snakeMove(): void {\r\n        for (let index = 0; index < this.snakeArr.length; index++) {\r\n            let snake = this.snakeArr[index];\r\n            snake.move();\r\n        }\r\n    }\r\n\r\n\r\n    //\u505A\u5730\u56FE\u76F8\u5BF9\u79FB\u52A8\uFF0C\u4EE5\u4FBF\u80FD\u8BA9\u73A9\u5BB6\u7684\u86C7\u59CB\u7EC8\u5C45\u4E2D\r\n    mapMove(): void {\r\n        if (!this.snakeSelf) { return };\r\n        let mapScale = Config.defaultScaleRatio / this.snakeSelf.scaleRatio < 0.7 ? 0.7 : Config.defaultScaleRatio / this.snakeSelf.scaleRatio\r\n        let x = -1 * (this.snakeSelf.x + this.snakeSelf.width / 2) * mapScale + GameConfig.width / 2,\r\n            y = -1 * (this.snakeSelf.y + this.snakeSelf.height / 2) * mapScale + GameConfig.height / 2;\r\n        this.battleMap.x = x;\r\n        this.battleMap.y = y;\r\n\r\n        this.battleMap.scale(mapScale, mapScale)\r\n\r\n    }\r\n\r\n    // todo \u4F7F\u7528\u5BF9\u8C61\u6C60\u521B\u5EFA\r\n    createSnake() {\r\n        // return new Snake();\r\n    }\r\n\r\n\r\n}\r\n\r\n", "import Joystick from \"./fgui/extension/Joystick\";\r\nimport GameManager from \"./manager/GameManager\";\r\n\r\nexport default class App {\r\n    constructor() {\r\n        this.initConfig();\r\n        this.load();\r\n    }\r\n\r\n    initConfig(): void {\r\n        fgui.UIObjectFactory.setExtension(\"ui://Slither/joystick\", Joystick);\r\n        fgui.UIConfig.packageFileExtension = \"bin\";\r\n        Laya.stage.addChild(fgui.GRoot.inst.displayObject);\r\n    }\r\n\r\n    //\u52A0\u8F7D\u8D44\u6E90\r\n    load(): void {\r\n        //\u52A0\u8F7D\u8D44\u6E90\r\n        Laya.loader.load(\"res/atlas/assets.atlas\", Laya.Handler.create(this, () => {\r\n            // this.loading.text = \"\";\r\n            //\u8D44\u6E90\u52A0\u8F7D\u5B8C\u6210\u5219\u8FDB\u5165\u5F00\u59CB\u754C\u9762\r\n            // this.gameStartSence()\r\n            // this.init();\r\n            this.loadRes();\r\n        }), null, Laya.Loader.ATLAS);\r\n    }\r\n\r\n    loadRes(): void {\r\n        fgui.UIPackage.loadPackage(\"./res/fgui/Slither\", Laya.Handler.create(this, this.init));\r\n    }\r\n\r\n    init(): void {\r\n        GameManager.inst.init();\r\n    }\r\n}", "import GameConfig from \"./GameConfig\";\nimport App from \"./App\";\nclass Main {\n\tconstructor() {\n\t\t//\u6839\u636EIDE\u8BBE\u7F6E\u521D\u59CB\u5316\u5F15\u64CE\t\t\n\t\tif (window[\"Laya3D\"]) Laya3D.init(GameConfig.width, GameConfig.height);\n\t\telse Laya.init(GameConfig.width, GameConfig.height, Laya[\"WebGL\"]);\n\t\tLaya[\"Physics\"] && Laya[\"Physics\"].enable();\n\t\tLaya[\"DebugPanel\"] && Laya[\"DebugPanel\"].enable();\n\t\tLaya.stage.scaleMode = GameConfig.scaleMode;\n\t\tLaya.stage.screenMode = GameConfig.screenMode;\n\t\tLaya.stage.alignV = GameConfig.alignV;\n\t\tLaya.stage.alignH = GameConfig.alignH;\n\t\t//\u517C\u5BB9\u5FAE\u4FE1\u4E0D\u652F\u6301\u52A0\u8F7Dscene\u540E\u7F00\u573A\u666F\n\t\tLaya.URL.exportSceneToJson = GameConfig.exportSceneToJson;\n\n\t\t//\u6253\u5F00\u8C03\u8BD5\u9762\u677F\uFF08\u901A\u8FC7IDE\u8BBE\u7F6E\u8C03\u8BD5\u6A21\u5F0F\uFF0C\u6216\u8005url\u5730\u5740\u589E\u52A0debug=true\u53C2\u6570\uFF0C\u5747\u53EF\u6253\u5F00\u8C03\u8BD5\u9762\u677F\uFF09\n\t\tif (GameConfig.debug || Laya.Utils.getQueryString(\"debug\") == \"true\") Laya.enableDebugPanel();\n\t\tif (GameConfig.physicsDebug && Laya[\"PhysicsDebugDraw\"]) Laya[\"PhysicsDebugDraw\"].enable();\n\t\tif (GameConfig.stat) Laya.Stat.show();\n\t\tLaya.alertGlobalError(true);\n\n\t\t//\u6FC0\u6D3B\u8D44\u6E90\u7248\u672C\u63A7\u5236\uFF0Cversion.json\u7531IDE\u53D1\u5E03\u529F\u80FD\u81EA\u52A8\u751F\u6210\uFF0C\u5982\u679C\u6CA1\u6709\u4E5F\u4E0D\u5F71\u54CD\u540E\u7EED\u6D41\u7A0B\n\t\tLaya.ResourceVersion.enable(\"version.json\", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);\n\t}\n\n\tonVersionLoaded(): void {\n\t\t//\u6FC0\u6D3B\u5927\u5C0F\u56FE\u6620\u5C04\uFF0C\u52A0\u8F7D\u5C0F\u56FE\u7684\u65F6\u5019\uFF0C\u5982\u679C\u53D1\u73B0\u5C0F\u56FE\u5728\u5927\u56FE\u5408\u96C6\u91CC\u9762\uFF0C\u5219\u4F18\u5148\u52A0\u8F7D\u5927\u56FE\u5408\u96C6\uFF0C\u800C\u4E0D\u662F\u5C0F\u56FE\n\t\tLaya.AtlasInfoManager.enable(\"fileconfig.json\", Laya.Handler.create(this, this.onConfigLoaded));\n\t}\n\n\tonConfigLoaded(): void {\n\t\t//\u52A0\u8F7DIDE\u6307\u5B9A\u7684\u573A\u666F\n\t\t// GameConfig.startScene && Laya.Scene.open(GameConfig.startScene);\n\t\tnew App();\n\t}\n}\n//\u6FC0\u6D3B\u542F\u52A8\u7C7B\nnew Main();\n"],
  "mappings": "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",
  "names": []
}
